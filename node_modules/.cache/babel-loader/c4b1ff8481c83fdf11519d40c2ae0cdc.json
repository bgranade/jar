{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bgranado\\\\jar\\\\src\\\\Components\\\\UserDonations.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useLocation, useHistory, useRouteMatch, Route, Link as RouterLink, Switch, BrowserRouter as Router } from \"react-router-dom\";\nimport { makeStyles, withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Link from '@material-ui/core/Link';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    height: 140,\n    width: 100\n  },\n  control: {\n    padding: theme.spacing(2)\n  }\n}));\n\nfunction UserDonations(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [error, setError] = useState();\n  const [userDonations, setUserDonations] = useState([]);\n  const [charities, setCharities] = useState([{\n    charity_id: 1,\n    charity_name: \"Red Cross\",\n    selected: false\n  }, {\n    charity_id: 2,\n    charity_name: \"Humane Society\",\n    selected: false\n  }]);\n  useEffect(() => {\n    axios({\n      method: 'post',\n      url: 'https://polar-castle-88358.herokuapp.com/user_donations',\n      data: JSON.stringify({\n        user_id: cookie.load(\"user_id\")\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      //handle success\n      //cookie.save('user_id', response.data.user_id, { path: '/' })\n      //alert(JSON.stringify(response.data.donations));\n      //props.history.push(\"/charities\");\n      setUserDonations(response.data.donations);\n    }).catch(function (response) {\n      //handle error\n      console.log(response);\n      setError(\"Sorry there was an error\");\n    }); //history.push(\"/payment\");\n  });\n\n  const getCharityName = chosenCharity => {\n    //alert(charity);\n    let index = charities.findIndex(charity => charity.charity_id == chosenCharity);\n    return charities[index].charity_name;\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), userDonations.map(donation => React.createElement(React.Fragment, null, getCharityName(donation.charity), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), donation.donation, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), \"You have made \", userDonations.length, \" donations.\"));\n}\n\nexport default UserDonations;","map":{"version":3,"sources":["C:/Users/bgranado/jar/src/Components/UserDonations.js"],"names":["React","useState","useEffect","useParams","useLocation","useHistory","useRouteMatch","Route","Link","RouterLink","Switch","BrowserRouter","Router","makeStyles","withStyles","MuiThemeProvider","createMuiTheme","AppBar","Toolbar","Typography","Grid","IconButton","MenuIcon","TextField","Button","axios","cookie","useStyles","theme","root","flexGrow","paper","height","width","control","padding","spacing","UserDonations","props","classes","history","error","setError","userDonations","setUserDonations","charities","setCharities","charity_id","charity_name","selected","method","url","data","JSON","stringify","user_id","load","headers","then","response","donations","catch","console","log","getCharityName","chosenCharity","index","findIndex","charity","map","donation","length"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAGA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,UAAjC,EAA6CC,aAA7C,EAA4DC,KAA5D,EAAmEC,IAAI,IAAIC,UAA3E,EAAuFC,MAAvF,EAA+FC,aAAa,IAAIC,MAAhH,QAA8H,kBAA9H;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,gBAAjC,EAAmDC,cAAnD,QAAyE,0BAAzE;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOd,IAAP,MAAiB,wBAAjB;AACA,OAAOe,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAGA,MAAMC,SAAS,GAAGd,UAAU,CAACe,KAAK,KAAK;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN,GAD+B;AAIrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,GADH;AAELC,IAAAA,KAAK,EAAE;AAFF,GAJ8B;AAQrCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd;AADF;AAR4B,CAAL,CAAN,CAA5B;;AAcA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAE5B,QAAMC,OAAO,GAAGZ,SAAS,EAAzB;AACA,QAAMa,OAAO,GAAGnC,UAAU,EAA1B;AACA,QAAM,CAACoC,KAAD,EAAQC,QAAR,IAAoBzC,QAAQ,EAAlC;AACA,QAAM,CAAC0C,aAAD,EAAgBC,gBAAhB,IAAoC3C,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAAC4C,SAAD,EAAYC,YAAZ,IAA4B7C,QAAQ,CAAC,CAAC;AAAC8C,IAAAA,UAAU,EAAE,CAAb;AAAgBC,IAAAA,YAAY,EAAE,WAA9B;AAA2CC,IAAAA,QAAQ,EAAE;AAArD,GAAD,EAA8D;AAACF,IAAAA,UAAU,EAAE,CAAb;AAAgBC,IAAAA,YAAY,EAAE,gBAA9B;AAAgDC,IAAAA,QAAQ,EAAE;AAA1D,GAA9D,CAAD,CAA1C;AAEA/C,EAAAA,SAAS,CAAC,MAAM;AAIZuB,IAAAA,KAAK,CAAC;AACJyB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,yDAFD;AAGJC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,OAAO,EAAE7B,MAAM,CAAC8B,IAAP,CAAY,SAAZ;AAAV,OAAf,CAHF;AAIJC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AAJL,KAAD,CAAL,CAMGC,IANH,CAMQ,UAAUC,QAAV,EAAoB;AACtB;AAEA;AAEA;AAEA;AAEAf,MAAAA,gBAAgB,CAACe,QAAQ,CAACP,IAAT,CAAcQ,SAAf,CAAhB;AAEH,KAjBH,EAkBGC,KAlBH,CAkBS,UAAUF,QAAV,EAAoB;AACvB;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAjB,MAAAA,QAAQ,CAAC,0BAAD,CAAR;AACH,KAtBH,EAJY,CA4BZ;AACH,GA7BQ,CAAT;;AA+BA,QAAMsB,cAAc,GAAIC,aAAD,IAAmB;AAEtC;AAEA,QAAIC,KAAK,GAAGrB,SAAS,CAACsB,SAAV,CAAqBC,OAAD,IAAaA,OAAO,CAACrB,UAAR,IAAsBkB,aAAvD,CAAZ;AAEA,WAAOpB,SAAS,CAACqB,KAAD,CAAT,CAAiBlB,YAAxB;AAEH,GARD;;AAUA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGL,aAAa,CAAC0B,GAAd,CAAkBC,QAAQ,IACvB,0CACGN,cAAc,CAACM,QAAQ,CAACF,OAAV,CADjB,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGE,QAAQ,CAACA,QAHZ,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADH,CAFH,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,oBAciB3B,aAAa,CAAC4B,MAd/B,gBADF,CADF;AAoBD;;AAED,eAAelC,aAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\n\n\nimport { useParams, useLocation, useHistory, useRouteMatch, Route, Link as RouterLink, Switch, BrowserRouter as Router } from \"react-router-dom\";\nimport { makeStyles, withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Link from '@material-ui/core/Link';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport axios from 'axios';\nimport cookie from 'react-cookies';\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 140,\n    width: 100,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\n\nfunction UserDonations(props) {\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [error, setError] = useState();\n  const [userDonations, setUserDonations] = useState([]);\n  const [charities, setCharities] = useState([{charity_id: 1, charity_name: \"Red Cross\", selected: false}, {charity_id: 2, charity_name: \"Humane Society\", selected: false}]);\n  \n  useEffect(() => {\n\n\n\n      axios({\n        method: 'post',\n        url: 'https://polar-castle-88358.herokuapp.com/user_donations',\n        data: JSON.stringify({user_id: cookie.load(\"user_id\")}),\n        headers: {'Content-Type': 'application/json' }\n        })\n        .then(function (response) {\n            //handle success\n\n            //cookie.save('user_id', response.data.user_id, { path: '/' })\n\n            //alert(JSON.stringify(response.data.donations));\n\n            //props.history.push(\"/charities\");\n\n            setUserDonations(response.data.donations);\n            \n        })\n        .catch(function (response) {\n            //handle error\n            console.log(response);\n            setError(\"Sorry there was an error\");\n        });\n\n      //history.push(\"/payment\");\n  })\n\n  const getCharityName = (chosenCharity) => {\n\n      //alert(charity);\n\n      let index = charities.findIndex((charity) => charity.charity_id == chosenCharity);\n\n      return charities[index].charity_name;\n\n  }\n\n  return (\n    <>\n      <p>\n        <br/>\n        {userDonations.map(donation => \n            <>\n              {getCharityName(donation.charity)}\n              <br/>\n              {donation.donation}\n              <br/>\n              <br/>\n\n            </>\n        )}\n        <br/>\n        <br/>\n        You have made {userDonations.length} donations.\n      </p>    \n      </>\n  );\n}\n\nexport default UserDonations;\n"]},"metadata":{},"sourceType":"module"}